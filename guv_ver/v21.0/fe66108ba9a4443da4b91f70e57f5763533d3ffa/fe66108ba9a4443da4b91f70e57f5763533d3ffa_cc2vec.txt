{"id": "fe66108ba9a4443da4b91f70e57f5763533d3ffa", "code": [{"0": "guava-tests/test/com/google/common/net/InternetDomainNameTest.java", "added": {"2": ["      \"foo-.com\",\n"]}, "removed": {"1": ["      \"foo-.com\",\n"], "2": ["      \"foo_.com\",\n"]}, "added_lines": {"2": [83]}, "removed_lines": {"1": [70], "2": [84]}}, {"1": "guava/src/com/google/common/net/InternetDomainName.java", "added": {"1": ["   * <li>Underscores ('_') are permitted wherever dashes ('-') are permitted.\n"], "2": ["  private static final CharMatcher DASH_MATCHER = CharMatcher.anyOf(\"-_\");\n", "      CharMatcher.JAVA_LETTER_OR_DIGIT.or(DASH_MATCHER);\n"], "3": ["    // No initial or final dashes or underscores.\n", "    if (DASH_MATCHER.matches(part.charAt(0))\n", "        || DASH_MATCHER.matches(part.charAt(part.length() - 1))) {\n"]}, "removed": {"1": ["   * <li>Underscores ('_') are permitted within parts (not the first or\n", "   *     last character).\n", "   * <li>Dashes ('-') are permitted as the last character of parts (in\n", "   *     addition to being permitted within parts, per the standard).\n"], "2": ["  private static final CharMatcher UNDERSCORE_MATCHER = CharMatcher.is('_');\n", "\n", "  private static final CharMatcher DASH_OR_UNDERSCORE_MATCHER = CharMatcher.anyOf(\"-_\");\n", "      CharMatcher.JAVA_LETTER_OR_DIGIT.or(DASH_OR_UNDERSCORE_MATCHER);\n"], "3": ["    // No initial dash or underscore. No final underscore.\n", "    if (DASH_OR_UNDERSCORE_MATCHER.matches(part.charAt(0))\n", "        || UNDERSCORE_MATCHER.matches(part.charAt(part.length() - 1))) {\n"]}, "added_lines": {"1": [202], "2": [243, 246], "3": [281, 283, 284]}, "removed_lines": {"1": [202, 203, 204, 205], "2": [246, 247, 248, 251], "3": [286, 288, 289]}}]}
