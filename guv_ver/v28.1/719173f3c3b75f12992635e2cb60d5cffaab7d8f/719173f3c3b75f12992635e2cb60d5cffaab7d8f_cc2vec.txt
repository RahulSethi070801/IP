{"id": "719173f3c3b75f12992635e2cb60d5cffaab7d8f", "code": [{"0": "guava-tests/test/com/google/common/base/StopwatchTest.java", "added": {"1": ["import com.google.common.annotations.GwtIncompatible;\n", "import java.time.Duration;\n"], "2": ["  @GwtIncompatible\n", "  public void testElapsed_duration() {\n", "    stopwatch.start();\n", "    ticker.advance(999999);\n", "    assertEquals(Duration.ofNanos(999999), stopwatch.elapsed());\n", "    ticker.advance(1);\n", "    assertEquals(Duration.ofMillis(1), stopwatch.elapsed());\n", "  }\n", "\n"]}, "removed": {}, "added_lines": {"1": [24, 26], "2": [171, 172, 173, 174, 175, 176, 177, 178, 179]}, "removed_lines": {}}, {"1": "guava/src/com/google/common/base/Stopwatch.java", "added": {"1": ["import com.google.common.annotations.GwtIncompatible;\n", "import com.google.j2objc.annotations.J2ObjCIncompatible;\n", "import java.time.Duration;\n"], "2": [" * Duration duration = stopwatch.elapsed();\n"], "3": ["@GwtCompatible(emulated = true)\n"], "4": ["   * <p><b>Note:</b> the overhead of measurement can be more than a microsecond, so it is generally\n", "   * not useful to specify {@link TimeUnit#NANOSECONDS} precision here.\n", "   *\n", "   * <p>It is generally not a good idea to use an ambiguous, unitless {@code long} to represent\n", "   * elapsed time. Therefore, we recommend using {@link #elapsed()} instead, which returns a\n", "   * strongly-typed {@link Duration} instance.\n"], "5": ["  /**\n", "   * Returns the current elapsed time shown on this stopwatch as a {@link Duration}. Unlike {@link\n", "   * #elapsed(TimeUnit)}, this method does not lose any precision due to rounding.\n", "   *\n", "   * @since 22.0\n", "   */\n", "  @GwtIncompatible\n", "  @J2ObjCIncompatible\n", "  public Duration elapsed() {\n", "    return Duration.ofNanos(elapsedNanos());\n", "  }\n", "\n"]}, "removed": {"2": [" * long millis = stopwatch.elapsed(MILLISECONDS);\n"], "3": ["@GwtCompatible\n"], "4": ["   * <p>Note that the overhead of measurement can be more than a microsecond, so it is generally not\n", "   * useful to specify {@link TimeUnit#NANOSECONDS} precision here.\n"]}, "added_lines": {"1": [28, 30, 31], "2": [53], "3": [82], "4": [191, 192, 193, 194, 195, 196], "5": [204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215]}, "removed_lines": {"2": [50], "3": [79], "4": [188, 189]}}]}
